<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exercise-4</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script defer language="javascript" type="text/javascript" src="detection.js"></script>
    <script defer language="javascript" type="text/javascript" src="script.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="wrapper">

        <div class="container">
            <video class="input_video"></video>
            <canvas class="output_canvas"></canvas>
          </div>

        <!-- landmarks -->
        <div id="wrist-div-0" class="landmark-div large-text"></div>
        <div id="mcp-div-0-0" class="landmark-div large-text"></div>
        <div id="mcp-div-0-1" class="landmark-div large-text"></div>
        <div id="mcp-div-0-2" class="landmark-div large-text"></div>
        <div id="mcp-div-0-3" class="landmark-div large-text"></div>
        <div id="mcp-div-0-4" class="landmark-div large-text"></div>
        <div id="mcp-div-0-5" class="landmark-div large-text"></div>
        <div id="tip-div-0-0" class="landmark-div large-text"></div>
        <div id="tip-div-0-1" class="landmark-div large-text"></div>
        <div id="tip-div-0-2" class="landmark-div large-text"></div>
        <div id="tip-div-0-3" class="landmark-div large-text"></div>
        <div id="tip-div-0-4" class="landmark-div large-text"></div>
        <div id="tip-div-0-5" class="landmark-div large-text"></div>
        <div id="wrist-div-1" class="landmark-div large-text"></div>
        <div id="mcp-div-1-0" class="landmark-div large-text"></div>
        <div id="mcp-div-1-1" class="landmark-div large-text"></div>
        <div id="mcp-div-1-2" class="landmark-div large-text"></div>
        <div id="mcp-div-1-3" class="landmark-div large-text"></div>
        <div id="mcp-div-1-4" class="landmark-div large-text"></div>
        <div id="mcp-div-1-5" class="landmark-div large-text"></div>
        <div id="tip-div-1-0" class="landmark-div large-text"></div>
        <div id="tip-div-1-1" class="landmark-div large-text"></div>
        <div id="tip-div-1-2" class="landmark-div large-text"></div>
        <div id="tip-div-1-3" class="landmark-div large-text"></div>
        <div id="tip-div-1-4" class="landmark-div large-text"></div>
        <div id="tip-div-1-5" class="landmark-div large-text"></div>

        <header class="small-text header-1">day <span id="day-counter">Loading...</span></header>
        <header class="small-text header-2">5 Digit-al Exercises for graphic designers.</header>
        <header class="small-text header-3"><a href="./info.html">Info</a></header>
       
        <!-- Preview, illustrations of the exercises -->
        <content class="large-text content-header-1">Preview</content>
                <div class="img-2"><img src="./Svgs/exercise-4-1.svg" alt="Make a Fist" height="100%" width="100%" /></div>
                <div class="img-3"><img src="./Svgs/exercise-4-2.svg" alt="Make a Fist" height="100%" width="100%" /></div>
                
        <footer class="large-text content-footer-1"><a class="no-underline" href="./movements.html">5x 5x</a></footer>
        <footer class="large-text content-footer-2"><a class="no-underline" href="./movements.html">L R</a></footer>

        <!-- Movement, videos of the movement -->
        <content class="large-text content-header-2"><a href="http://">Movement</a></content>
            <div class="movement-video"> <img id="gif" src="./Gifs/Make-a-Fist.gif" alt="Make a Fist"/></div>
        <content class="large-text content-header-3">4/5</content>
        <content class="large-text content-header-4"><a href="./exercise-3.html">Back</a></content>



        <footer class="large-text content-footer-3" id="movement-name">Make a Fist</footer>
        <footer class="large-text content-footer-4"><a href="./exercise-5.html">Next</a></footer>

    </div>
    
</body>

<script>
    function calculateDayOfYear() {
    const today = new Date();
    const startOfYear = new Date(today.getFullYear(), 0, 1); // January 1st of the current year
    const diff = today - startOfYear; // Difference in milliseconds
    const oneDay = 1000 * 60 * 60 * 24; // Number of milliseconds in one day
  
    return Math.floor(diff / oneDay) + 1; // Day number, add 1 to start from Day 1
  }
  
  // Function to check for leap year
  function isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
  }
  
  // Get the current year and set the total days (365 or 366 based on leap year)
  const today = new Date();
  const totalDays = isLeapYear(today.getFullYear()) ? 366 : 365;
  
  const gif = document.getElementById('gif');

// Set GIF duration (in milliseconds) and loop count
const gifDuration = 7500; // Adjust this to match the duration of one loop of your GIF
const loopCount = 2;
const totalDuration = gifDuration * loopCount;
const gifSrc = gif.src; // Store the original src

// Function to play the GIF
function playGif() {
    gif.style.display = 'block';
    gif.src = '';        // Clear the src to force a reload
    gif.src = gifSrc;    // Reassign the original src to restart the GIF

    // Hide the GIF automatically after the total duration (2 loops)
    setTimeout(() => {
        gif.style.display = 'none';
    }, totalDuration);
}

// Add an event listener to the body to trigger GIF play on click
document.body.addEventListener('click', playGif);

// Call playGif immediately on page load
window.onload = playGif;

</script>

</html>